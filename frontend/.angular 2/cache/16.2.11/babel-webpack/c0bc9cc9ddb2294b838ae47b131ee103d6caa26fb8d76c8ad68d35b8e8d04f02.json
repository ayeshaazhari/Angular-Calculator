{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nexport let CalculateComponent = class CalculateComponent {\n  constructor() {\n    this.input = '';\n    this.result = '';\n  }\n  pressNum(num) {\n    //Do Not Allow . more than once\n    if (num == \".\") {\n      if (this.input != \"\") {\n        const lastNum = this.getLastOperand();\n        console.log(lastNum.lastIndexOf(\".\"));\n        if (lastNum.lastIndexOf(\".\") >= 0) return;\n      }\n    }\n    //Do Not Allow 0 at beginning. \n    //Javascript will throw Octal literals are not allowed in strict mode.\n    if (num == \"0\") {\n      if (this.input == \"\") {\n        return;\n      }\n      const PrevKey = this.input[this.input.length - 1];\n      if (PrevKey === '/' || PrevKey === '*' || PrevKey === '-' || PrevKey === '+') {\n        return;\n      }\n    }\n    this.input = this.input + num;\n    this.calcAnswer();\n  }\n  getLastOperand() {\n    let pos;\n    console.log(this.input);\n    pos = this.input.toString().lastIndexOf(\"+\");\n    if (this.input.toString().lastIndexOf(\"-\") > pos) pos = this.input.lastIndexOf(\"-\");\n    if (this.input.toString().lastIndexOf(\"*\") > pos) pos = this.input.lastIndexOf(\"*\");\n    if (this.input.toString().lastIndexOf(\"/\") > pos) pos = this.input.lastIndexOf(\"/\");\n    console.log('Last ' + this.input.substr(pos + 1));\n    return this.input.substr(pos + 1);\n  }\n  pressOperator(op) {\n    //Do not allow operators more than once\n    const lastKey = this.input[this.input.length - 1];\n    if (lastKey === '/' || lastKey === '*' || lastKey === '-' || lastKey === '+') {\n      return;\n    }\n    this.input = this.input + op;\n    this.calcAnswer();\n  }\n  clear() {\n    if (this.input != \"\") {\n      this.input = this.input.substr(0, this.input.length - 1);\n    }\n  }\n  allClear() {\n    this.result = '';\n    this.input = '';\n  }\n  calcAnswer() {\n    let formula = this.input;\n    let lastKey = formula[formula.length - 1];\n    if (lastKey === '.') {\n      formula = formula.substr(0, formula.length - 1);\n    }\n    lastKey = formula[formula.length - 1];\n    if (lastKey === '/' || lastKey === '*' || lastKey === '-' || lastKey === '+' || lastKey === '.') {\n      formula = formula.substr(0, formula.length - 1);\n    }\n    console.log(\"Formula \" + formula);\n    this.result = eval(formula);\n  }\n  getAnswer() {\n    this.calcAnswer();\n    this.input = this.result;\n    if (this.input == \"0\") this.input = \"\";\n  }\n};\nCalculateComponent = __decorate([Component({\n  selector: 'app-calculate',\n  templateUrl: './calculate.component.html',\n  styleUrls: ['./calculate.component.css']\n})], CalculateComponent);","map":{"version":3,"names":["Component","CalculateComponent","constructor","input","result","pressNum","num","lastNum","getLastOperand","console","log","lastIndexOf","PrevKey","length","calcAnswer","pos","toString","substr","pressOperator","op","lastKey","clear","allClear","formula","eval","getAnswer","__decorate","selector","templateUrl","styleUrls"],"sources":["/Users/ifazbeig/Documents/Aisha/calculator/src/app/calculate/calculate.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-calculate',\n  templateUrl: './calculate.component.html',\n  styleUrls: ['./calculate.component.css']\n})\nexport class CalculateComponent {\n  input:string = '';\n  result:string = '';\n  \n \n  pressNum(num: string) {\n    \n    //Do Not Allow . more than once\n    if (num==\".\") {\n      if (this.input !=\"\" ) {\n \n        const lastNum=this.getLastOperand()\n        console.log(lastNum.lastIndexOf(\".\"))\n        if (lastNum.lastIndexOf(\".\") >= 0) return;\n      }\n    }\n \n    //Do Not Allow 0 at beginning. \n    //Javascript will throw Octal literals are not allowed in strict mode.\n    if (num==\"0\") {\n      if (this.input==\"\" ) {\n        return;\n      }\n      const PrevKey = this.input[this.input.length - 1];\n      if (PrevKey === '/' || PrevKey === '*' || PrevKey === '-' || PrevKey === '+')  {\n          return;\n      }\n    }\n \n    this.input = this.input + num\n    this.calcAnswer();\n  }\n \n \n  getLastOperand() {\n    let pos:number;\n    console.log(this.input)\n    pos=this.input.toString().lastIndexOf(\"+\")\n    if (this.input.toString().lastIndexOf(\"-\") > pos) pos=this.input.lastIndexOf(\"-\")\n    if (this.input.toString().lastIndexOf(\"*\") > pos) pos=this.input.lastIndexOf(\"*\")\n    if (this.input.toString().lastIndexOf(\"/\") > pos) pos=this.input.lastIndexOf(\"/\")\n    console.log('Last '+this.input.substr(pos+1))\n    return this.input.substr(pos+1)\n  }\n \n \n  pressOperator(op: string) {\n \n    //Do not allow operators more than once\n    const lastKey = this.input[this.input.length - 1];\n    if (lastKey === '/' || lastKey === '*' || lastKey === '-' || lastKey === '+')  {\n      return;\n    }\n   \n    this.input = this.input + op\n    this.calcAnswer();\n  }\n \n \n  clear() {\n    if (this.input !=\"\" ) {\n      this.input=this.input.substr(0, this.input.length-1)\n    }\n  }\n \n  allClear() {\n    this.result = '';\n    this.input = '';\n  }\n \n  calcAnswer() {\n    let formula = this.input;\n \n    let lastKey = formula[formula.length - 1];\n \n    if (lastKey === '.')  {\n      formula=formula.substr(0,formula.length - 1);\n    }\n \n    lastKey = formula[formula.length - 1];\n \n    if (lastKey === '/' || lastKey === '*' || lastKey === '-' || lastKey === '+' || lastKey === '.')  {\n      formula=formula.substr(0,formula.length - 1);\n    }\n \n    console.log(\"Formula \" +formula);\n    this.result = eval(formula);\n  }\n \n  getAnswer() {\n    this.calcAnswer();\n    this.input = this.result;\n    if (this.input==\"0\") this.input=\"\";\n  }\n\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}